/*! CCL - v0.1.0
 * http://github.com/ObjectiveSubject/ccl
 * Copyright (c) 2017; * Licensed GPLv2+ */
!function(t,e){"use strict";var i=e.document;e.CCL||(e.CCL={}),CCL.DURATION=300,CCL.BREAKPOINT_SM=500,CCL.BREAKPOINT_MD=768,CCL.BREAKPOINT_LG=1e3,CCL.BREAKPOINT_XL=1500,t(i).ready(function(){t("html").toggleClass("no-js js")})}(jQuery,this),function(){window.CCL||(window.CCL={}),CCL.reflow=function(t){return t.offsetHeight}}(),function(t,e){"use strict";function i(){var t=o.createElement("div");e(t).css({width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),e("body").append(t);var i=t.offsetWidth-t.clientWidth;return e(t).remove(),i}var o=t.document;t.CCL||(t.CCL={}),CCL.getScrollWidth=i,CCL.SCROLLBARWIDTH=i()}(this,jQuery),function(t){var e=function(t,e,i){var o,n,s,c,l=0;i||(i={});var a=function(){l=!1===i.leading?0:(new Date).getTime(),o=null,c=t.apply(n,s),o||(n=s=null)},r=function(){var r=(new Date).getTime();l||!1!==i.leading||(l=r);var u=e-(r-l);return n=this,s=arguments,u<=0||u>e?(o&&(clearTimeout(o),o=null),l=r,c=t.apply(n,s),o||(n=s=null)):o||!1===i.trailing||(o=setTimeout(a,u)),c};return r.cancel=function(){clearTimeout(o),l=0,o=n=s=null},r};t.CCL||(t.CCL={}),t.CCL.throttle=e}(this),function(t,e){"use strict";var i=t.document,o=function(t){this.$el=e(t),this.$toggle=this.$el.children(".ccl-c-accordion__toggle"),this.$content=this.$el.children(".ccl-c-accordion__content"),this.init()};o.prototype.init=function(){var t=this;this.$toggle.on("click",function(e){e.preventDefault(),t.$content.slideToggle(),t.$el.toggleClass("ccl-is-open")})},e(i).ready(function(){e(".ccl-c-accordion").each(function(){new o(this)})})}(this,jQuery),function(t,e){"use strict";var i=t.document,o=CCL.DURATION,n=function(t){var i=e(t);this.$el=e(t),this.target=i.parent(),this.$target=e(this.target),this.init()};n.prototype.init=function(){var t=this;t.$el.on("click",function(e){e.preventDefault(),t.dismissAlert()})},n.prototype.dismissAlert=function(){var t=this;t.$target.animate({opacity:0},{duration:o,complete:function(){t.$target.slideUp(o,function(){t.$target.remove()})}})},e(i).ready(function(){e('[data-dismiss="alert"]').each(function(){new n(this)})})}(this,jQuery),function(t,e){"use strict";var i=t.document,o=function(t){this.$el=e(t),this.globalDefaults={mobileFirst:!0,dotsClass:"ccl-c-carousel__paging",infinite:!1,dots:!0,slidesToScroll:1,variableWidth:!0},this.init()};o.prototype.init=function(){var t=this.$el.data(),i=t.options||{};i.responsive=[],t.optionsSm&&i.responsive.push({breakpoint:CCL.BREAKPOINT_SM,settings:t.optionsSm}),t.optionsMd&&i.responsive.push({breakpoint:CCL.BREAKPOINT_MD,settings:t.optionsMd}),t.optionsLg&&i.responsive.push({breakpoint:CCL.BREAKPOINT_LG,settings:t.optionsLg}),t.optionsXl&&i.responsive.push({breakpoint:CCL.BREAKPOINT_XL,settings:t.optionsXl}),i=e.extend(this.globalDefaults,i);var o=this.$el.slick(i),n=this;o.on("beforeChange",function(t,e,i,o){n.$el.find(".slick-slide").removeClass("ccl-is-past"),n.$el.find('.slick-slide[data-slick-index="'+o+'"]').prevAll().addClass("ccl-is-past")})},e(i).ready(function(){e(".js-promo-carousel").each(function(){new o(this)})})}(this,jQuery),function(t,e){"use strict";function i(){e(".ccl-c-dropdown, .ccl-c-dropdown__menu").removeClass(s.ACTIVE),e(n.TOGGLE).attr("aria-expanded","false")}var o=t.document,n={TOGGLE:'[data-toggle="dropdown"]'},s={ACTIVE:"ccl-is-active",MENU:"ccl-c-dropdown__menu"},c=function(t){this.$toggle=e(t),this.$parent=this.$toggle.parent();var i=this.$toggle.data("target");this.$menu=e(i),this.init()};c.prototype.init=function(){var t=this;this.$toggle.click(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}),e(o).on("click",function(t){e("."+s.MENU+"."+s.ACTIVE).length&&i()})},c.prototype.toggle=function(){this.$toggle.hasClass(s.ACTIVE)||this.showMenu()},c.prototype.showMenu=function(){this.$toggle.attr("aria-expanded","true"),this.$menu.addClass(s.ACTIVE),this.$parent.addClass(s.ACTIVE)},c.prototype.hideMenu=function(){this.$toggle.attr("aria-expanded","false"),this.$menu.removeClass(s.ACTIVE),this.$parent.removeClass(s.ACTIVE)},e(o).ready(function(){e(n.TOGGLE).each(function(){new c(this)})})}(this,jQuery),function(t,e){"use strict";var i=t.document,o=function(t){var i=e(t);this.$el=e(t),this.target=i.data("target"),this.$target=e(this.target),this.init()};o.prototype.init=function(){var t=this;t.$el.on("click",function(o){o.preventDefault(),e(i.body).hasClass("ccl-modal-open")?t.closeModal():t.showBackdrop(function(){t.showModal()})})},o.prototype.showBackdrop=function(t){var o=i.createElement("div"),n=e(o);n.addClass("ccl-c-modal__backdrop"),n.appendTo(i.body),CCL.reflow(o),n.addClass("ccl-is-shown"),e(i.body).addClass("ccl-modal-open").css("padding-right",CCL.SCROLLBARWIDTH),t&&setTimeout(t,300)},o.prototype.showModal=function(){var t=this;t.$target.show(0,function(){t.$target.addClass("ccl-is-shown")})},o.prototype.closeModal=function(){e(".ccl-c-modal").removeClass("ccl-is-shown"),setTimeout(function(){e(".ccl-c-modal").hide(),e(".ccl-c-modal__backdrop").removeClass("ccl-is-shown"),setTimeout(function(){e(".ccl-c-modal__backdrop").remove(),e(i.body).removeClass("ccl-modal-open").css("padding-right","")},300)},300)},e(i).ready(function(){e('[data-toggle="modal"]').each(function(){new o(this)})})}(this,jQuery),function(t,e){"use strict";var i=t.document,o=e(t),n={isFixed:"ccl-is-fixed"},s=function(t){function i(){o.scrollTop()+a.offset>=l.top?s.addClass(n.isFixed):s.removeClass(n.isFixed)}var s=e(t),c=s.outerHeight(),l=s.offset(),a=s.data("sticky"),r=e('<div class="js-sticky-wrapper"></div>').css({height:c+"px"}),u={offset:0};return a=e.extend(u,a),s.wrap(r),o.scroll(CCL.throttle(i,100)),this};e(i).ready(function(){e(".js-is-sticky").each(function(){new s(this)})})}(this,jQuery),function(t,e){"use strict";var i=t.document,o=e("html").data("school"),n=function(t){this.$select=e(t),this.init()};n.prototype.init=function(){if(!o||""===o){var t=["pomona","cgu","cuc","scripps","claremont-mckenna","harvey-mudd","pitzer","kgi"],i=Math.floor(Math.random()*t.length);o=t[i],e("html").attr("data-school",o)}this.$select.find('option[value="'+o+'"]').attr("selected","selected"),this.$select.change(function(t){e("html").attr("data-school",t.target.value)})},e(i).ready(function(){e('[data-toggle="school"]').each(function(){new n(this)})})}(this,jQuery),function(t,e){"use strict";var i=t.document,o=function(t){this.$el=e(t),this.content=this.$el.attr("title"),this.$tooltip=e('<div id="ccl-current-tooltip" class="ccl-c-tooltip ccl-is-top" role="tooltip"><div class="ccl-c-tooltip__arrow"></div><div class="ccl-c-tooltip__inner">'+this.content+"</div></div>"),this.init()};o.prototype.init=function(){var t=this;this.$el.hover(function(e){t.$el.attr("title",""),t.$el.attr("aria-describedby","ccl-current-tooltip"),t.$tooltip.appendTo(i.body),CCL.reflow(t.$tooltip[0]);var o=t.$el.offset(),n=t.$el.outerWidth(),s=t.$tooltip.outerHeight();t.$tooltip.css({top:o.top-s+"px",left:o.left+n/2+"px"}),t.$tooltip.addClass("ccl-is-shown")},function(e){t.$el.attr("title",t.content),t.$el.attr("aria-describedby",""),t.$tooltip.removeClass("ccl-is-shown"),t.$tooltip.remove()})},e(i).ready(function(){e('[data-toggle="tooltip"]').each(function(){new o(this)})})}(this,jQuery),function(t,e){"use strict";var i=t.document,o=function(t){var i=this;this.$el=e(t),this.$tabs=this.$el.find(".ccl-c-tab"),this.$tabContents=e(".ccl-c-tab__content"),this.$tabs.each(function(){var t=e(this);t.click(function(e){e.preventDefault();var o=t.data("target");console.log(o,i.$tabContents),i.$tabContents.removeClass("ccl-is-active"),i.$tabContents.filter(o).addClass("ccl-is-active")})}),console.log(this)},n=function(t){this.$el=e(t),this.$input=this.$el.find("#call-num-search"),this.$marquee=this.$el.find(".ccl-c-wayfinder__marquee"),this.$callNum=this.$el.find(".ccl-c-wayfinder__call-num"),this.$level=this.$el.find(".ccl-c-wayfinder__level"),this.init()};n.prototype.init=function(){var t,i=this;this.$input.keyup(function(){var o=e(this).val();clearTimeout(t),i.$callNum.text(o),""===o?i.$marquee.hide():i.$marquee.show(),t=setTimeout(function(){""!==o?i.findRoom(o):(i.$marquee.hide(),i.$callNum.text(""),i.$level.text(""))},600)}).keydown(function(e){clearTimeout(t),i.$level.text("..."),i.reset()})},n.prototype.findRoom=function(t){this.$el.addClass("ccl-app-active"),this.$level.text("Level 1"),this.$el.find('a[href="#floor-1"]').addClass("ccl-u-color-blue"),this.$el.find("#floor-1__room-1").addClass("ccl-is-active"),e("html, body").animate({scrollTop:e(".ccl-c-search").offset().top})},n.prototype.reset=function(){this.$el.removeClass("ccl-app-active"),this.$el.find('a[href*="#floor-"]').removeClass("ccl-u-color-blue"),this.$el.find(".ccl-c-floor__room").removeClass("ccl-is-active")},e(i).ready(function(){e(".ccl-js-tabs").each(function(){new o(this)}),e(".ccl-js-wayfinder").each(function(){new n(this)})})}(this,jQuery);